!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).listbuilder=t()}}(function(){return function(){return function t(e,n,i){function a(s,r){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!r&&l)return l(s,!0);if(o)return o(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return a(n||t)},u,u.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)a(i[s]);return a}}()({1:[function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var a=i(t("../data/factions")),o=i(t("../settings")),s=function(){function t(t,e){this.filesLoaded=0,this.success=t,this.failure=e,this.data={}}return t.prototype.loadFactionData=function(){var t=this,e=function(e){if(o.default.supportedFactions.indexOf(e)>-1){var n=a.default[e].dataFile,i=new XMLHttpRequest;i.onload=function(){t.onFileLoaded(e,JSON.parse(i.response))},i.onerror=function(){t.onFileFailed()},i.open("get","/Content/40kListBuilder/resources/data/"+n),i.send()}};for(var n in a.default)e(n)},t.prototype.onFileLoaded=function(t,e){this.filesLoaded++,this.data[t]=e,this.filesLoaded===o.default.supportedFactions.length&&this.success()},t.prototype.onFileFailed=function(){this.failure()},t}();n.default=s},{"../data/factions":2,"../settings":9}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default={"Adeptus Mechanicus":{dataFile:"AdeptusMechanicus.json",icon:"adeptusmechanicus.png"},"Astra Militarum":{dataFile:"AstraMilitarum.json",icon:"astramilitarum.png"},"Blood Angels":{dataFile:"BloodAngles.json",icon:"bloodangels.png"},"Chaos Daemons":{dataFile:"Chaosaemons.json",icon:"chaosdaemons.png"},Craftworlds:{dataFile:"Craftworlds.json",icon:"craftworld.png"},"Dark Angels":{dataFile:"DarkAngles.json",icon:"darkangels.png"},Deathwatch:{dataFile:"Deathwatch.json",icon:"deathwatch.png"},Drukhari:{dataFile:"Drukhari.json",icon:"drukhari.png"},"Genestealer Cults":{dataFile:"GenestealerCults.json",icon:"genestealers.png"},"Grey Knights":{dataFile:"GreyKnights.json",icon:"greyknights.png"},Harlequins:{dataFile:"Harlequins.json",icon:"harlequins.png"},"Heretic Astartes":{dataFile:"HereticAstartes.json",icon:"hereticastartes.png"},"Imperial Agents":{dataFile:"ImperialAgents.json",icon:"imperialagents.png"},"Imperial Knights":{dataFile:"ImperialKnights.json",icon:"imperialknights.png"},"Legion of the Damned":{dataFile:"LegionOfTheDamned.json",icon:"legionofthedamned.png"},Necrons:{dataFile:"Necrons.json",icon:"necrons.png"},Orks:{dataFile:"Orks.json",icon:"orks.png"},"Questor Traitoris":{dataFile:"QuestorTraitoris.json",icon:"questortraitoris.png"},"Space Marines":{dataFile:"SpaceMarines.json",icon:"spacemarines.png"},"Space Wolves":{dataFile:"SpaceWolves.json",icon:"spacewolves.png"},"T'au Empire":{dataFile:"TauEmpire.json",icon:"tau.png"},"Talons of the Emporer":{dataFile:"TalonsOfTheEmporer.json",icon:"talonsoftheemperor.png"},Tyranids:{dataFile:"Tyranids.json",icon:"tyranids.png"},Ynnari:{dataFile:"Ynnari.json",icon:"ynnari.png"}}},{}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){return function(){}}();n.default=i},{}],4:[function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var a=i(t("../src/data/dataController")),o=i(t("../src/utils/costController")),s=i(t("../src/lists/factionList")),r=i(t("../src/lists/unitList")),l=i(t("../src/lists/armyList")),d=i(t("../src/editor/editor")),u=function(){function t(){t.data=new a.default(this.setup,this.loadingFailure)}return t.prototype.loadFactionData=function(){t.data.loadFactionData()},t.prototype.setup=function(){t.costs=new o.default,t.factionList=new s.default,t.unitList=new r.default,t.armyList=new l.default,t.editor=new d.default},t.prototype.loadingFailure=function(){alert("Faction data failed to load :(")},t}();n.default=u,(new u).loadFactionData()},{"../src/data/dataController":1,"../src/editor/editor":3,"../src/lists/armyList":5,"../src/lists/factionList":6,"../src/lists/unitList":7,"../src/utils/costController":10}],5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.addUnit=function(t,e,n,i){},t.prototype.addSmiteSpell=function(){},t.prototype.addFactionSpells=function(t,e,n){},t}();n.default=i},{}],6:[function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var a=i(t("../data/factions")),o=i(t("../settings")),s=i(t("../init")),r=function(){function t(){this.open=!1,this.menuBtn=document.getElementById("factionBtn"),this.factionList=document.getElementById("factionList"),this.setupFactionList()}return t.prototype.openNav=function(){document.getElementById("sidenav").style.width="350px",document.getElementById("availableList").style.marginLeft="350px",document.getElementById("newList").style.paddingLeft="700px",this.open=!0},t.prototype.closeNav=function(){document.getElementById("sidenav").style.width="60px",document.getElementById("availableList").style.marginLeft="60px",document.getElementById("newList").style.paddingLeft="410px",this.open=!1},t.prototype.toggleNav=function(){this.open?this.closeNav():this.openNav()},t.prototype.isOpen=function(){return this.open},t.prototype.setupFactionList=function(){var t=this;for(var e in this.menuBtn.onclick=function(){t.toggleNav()},this.isOpen()||this.openNav(),a.default)-1!==o.default.supportedFactions.indexOf(e)&&this.factionList.appendChild(this.createFactionListElement(e,!0));for(var e in a.default)-1===o.default.supportedFactions.indexOf(e)&&this.factionList.appendChild(this.createFactionListElement(e,!1))},t.prototype.createFactionListElement=function(t,e){var n=this,i=document.createElement("li");return i.id=t,e||(i.className="factionNotSupported"),i.onclick=function(){n.factionSelected(t)},i.innerHTML='<img src="Content/40kListBuilder/resources/icons/'+a.default[t].icon+'"/>'+t,i},t.prototype.factionSelected=function(t){s.default.unitList.factionSelected(t),this.isOpen()&&this.closeNav()},t}();n.default=r},{"../data/factions":2,"../init":4,"../settings":9}],7:[function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var a=i(t("../objects/availableUnit")),o=i(t("../init")),s=function(){function t(){this.currentFaction="",this.availableList=[]}return t.prototype.factionSelected=function(t){this.availableList=[],this.currentFaction=t;var e=o.default.data.data[t];for(var n in e.units){var i=e.units[n];for(var s in i)this.availableList.push(new a.default(t,n,s))}this.renderList()},t.prototype.renderList=function(){var t=this,e=document.getElementById("availableList");e.innerHTML="<h2>"+this.currentFaction+"</h2>";for(var n=document.createElement("ul"),i=document.createElement("ul"),a="",s=document.createElement("li"),r=function(t){t.type!==a&&(""!==a&&(n.appendChild(i),i=document.createElement("ul")),i.innerHTML=t.type+"<hr/>",a=t.type);var e=t.faction+"-"+t.type+"-"+t.name;(s=document.createElement("li")).id=e,s.onclick=function(){o.default.armyList.addUnit(e,t.faction,t.type,t.name)},s.innerHTML=t.name+'<br/><div id="unitDetails"><table><tr><td>Points: '+t.points+"</td><td>Power: "+t.power+"</td><td>Wounds: "+t.wounds+"</td><td>Models: "+t.models+"</td></tr></table></div>",i.appendChild(s)},l=0,d=this.availableList;l<d.length;l++){r(d[l])}if(n.appendChild(i),void 0!==o.default.data.data[this.currentFaction].spells){var u=document.createElement("ul");u.innerHTML="Spells<hr/>";var c=document.createElement("li");c.id="smite",c.onclick=function(){o.default.armyList.addSmiteSpell()},c.innerHTML="Smite",u.appendChild(c);var f=function(e){var n=p.currentFaction+"-"+e,i=document.createElement("li");i.id=n,i.onclick=function(){o.default.armyList.addFactionSpells(n,t.currentFaction,e)},i.innerHTML=e,u.appendChild(i)},p=this;for(var h in o.default.data.data[this.currentFaction].spells)f(h);n.appendChild(u)}e.appendChild(n);var m=document.createElement("div");m.className="spacer",e.appendChild(m)},t}();n.default=s},{"../init":4,"../objects/availableUnit":8}],8:[function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var a=i(t("../init")),o=function(){function t(t,e,n){this.faction=t,this.type=e,this.name=n,this.unitInfo=a.default.data.data[t].units[e][n],this.points=this.getPointsValue(),this.power=this.getPowerValue(),this.wounds=this.getWoundsValue(),this.models=this.getModelsValue()}return t.prototype.getPointsValue=function(){for(var t=0,e=0,n=this.unitInfo.modelTypes;e<n.length;e++){var i=n[e],o=0,s=a.default.data.data[this.faction].models[i.model];if(o+=s.Points,!s.PointsIncludesWargear&&s.Wargear.weapons)for(var r=0;r<s.Wargear.weapons[0].length;r++)o+=a.default.data.data[this.faction].wargear[s.Wargear.weapons[0][r]].Points;t+=o*i.defaultAmount}return t},t.prototype.getPowerValue=function(){var t=0;return t+=this.unitInfo.power[0][1]},t.prototype.getWoundsValue=function(){for(var t=0,e=0,n=this.unitInfo.modelTypes;e<n.length;e++){var i=n[e];t+=a.default.data.data[this.faction].models[i.model].W*i.defaultAmount}return t},t.prototype.getModelsValue=function(){for(var t=0,e=0,n=this.unitInfo.modelTypes;e<n.length;e++){t+=n[e].defaultAmount}return t},t}();n.default=o},{"../init":4}],9:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default={supportedFactions:["Craftworlds","Harlequins","Ynnari"]}},{}],10:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(){this.costs=[0,0,0,0],this.pointsElement=document.getElementById("POINTS"),this.powerElement=document.getElementById("POWER"),this.woundsElement=document.getElementById("WOUNDS"),this.modelsElement=document.getElementById("MODELS"),this.updateCosts()}return t.prototype.updateCosts=function(){this.pointsElement.innerHTML='<div class="costValue">'+this.costs[0]+"</div>POINTS",this.powerElement.innerHTML='<div class="displayedCostSmall">Power: '+this.costs[1]+"</div>",this.woundsElement.innerHTML='<div class="displayedCostSmall">Wounds: '+this.costs[2]+"</div>",this.modelsElement.innerHTML='<div class="displayedCostSmall">Models: '+this.costs[3]+"</div>"},t}();n.default=i},{}]},{},[4])(4)});
//# sourceMappingURL=listbuilder.min.js.map
